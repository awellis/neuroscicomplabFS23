{
  "hash": "b0c13e71b050bdcf3086db194308e33a",
  "result": {
    "markdown": "---\ntitle: \"Übung 3: Lösung\"\ndescription: | \n    Daten importieren und bereinigen.\ndate: \"04-03-2022\"\nauthor:\n  - name: Andrew Ellis\n    url: https://github.com/awellis\n    affiliation: Kognitive Psychologie, Wahrnehmung und Methodenlehre, Universität Bern \n    affiliation-url: https://www.kog.psy.unibe.ch\n    orcid: 0000-0002-2788-936X\nlicense: CC BY\ncitation: true\nbibliography: ../../bibliography.bib\nformat:\n    html:\n        toc: true\n        code-link: true\n---\n\n\n\n\n# Aufgabenstellung\n\nIn dieser Aufgabe bearbeiten Sie Daten aus einem Detektionssexperiment. Versuchspersonen mussten in zwei Bedingungen (`bias` und `no_bias`) ein Signal, welches in Rauschen eingebettet war, detektieren. Im Datensatz sind folgende Variablen:\n\n```\nsubject: Subjekt ID\ntrial_num: Trialnummer, durchnummeriert in jeder Bedingung\ncondition: Bedingung (_Bias_ und _No Bias_)\nsignal_present: Indikatorvariable für Signal (0: absent, 1: present)\ncorrect: Indikatorvariable für korrekte Antwort (0: incorrekt, 1: correct)\nrt: Reaktionszeit in Sekunden\n\n```\n\n## Aufgaben \n\n:::exercise\n**Aufgabe 1**\n\na) Speichern Sie das *CSV* File in Ihren Projektordner.\n\nb) Lesen Sie das *CSV* File ein. Per Konvention verwenden wir den Variablennamen `d` für den Datensatz.\n\nc) Überprüfen Sie, ob alle Variablen vorhanden sind. Verwenden Sie z.B. die Funktion `glimpse()`.\n\nd) Konvertieren Sie die Gruppierungsvariablen `subject` und `condition` zu Faktoren.\n:::\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-4_fd7f9aa50a0f08de6009d812decd0710'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-6_af52dfaaba959997fbbefc5407fa667f'}\n\n```{.r .cell-code}\nd <- read_csv(\"data/data-exercise-03.csv\")\n```\n:::\n\n\nSchauen Sie sich die Variablen an:\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-8_73227fd5d5f649d9f909525b6f3e3dc1'}\n\n```{.r .cell-code}\nglimpse(d)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 5,756\nColumns: 6\n$ subject        <dbl> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…\n$ condition      <chr> \"bias\", \"bias\", \"bias\", \"bias\", \"bias\", \"bias\", \"bias\",…\n$ signal_present <dbl> 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0…\n$ correct        <dbl> 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1…\n$ rt             <dbl> 4.076, 1.167, 0.598, 0.375, 0.454, 0.410, 0.370, 0.559,…\n$ trial_num      <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, …\n```\n:::\n:::\n\n\nKonvertieren Sie die Gruppierungsvariablen zu Faktoren:\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-10_c87c322f2347a662fc3e5fd9d5a43f87'}\n\n```{.r .cell-code}\nd <- d |>\n    mutate(subject = as_factor(subject),\n           condition = as_factor(condition))\n```\n:::\n\n\n:::exercise\n**Aufgabe 2**\n\nGibt es Versuchspersonen die in einer der Bedingungen Reaktionszeiten hat, welche mehr als zwei Standardabweichungen **über** dem Bedingungsmittelwert liegen?\n:::\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-12_bb450b244797d8b31ad82d72575d3036'}\n\n```{.r .cell-code}\n# summary stats (means) for subjects/conditions\nsum_stats_participants <- d |>\n    group_by(subject, condition) |>\n    dplyr::summarise(\n        mean_P = mean(rt))\n```\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-14_0cb9419df868676a148a24e726365427'}\n\n```{.r .cell-code}\n# summary stats (means and SDs) for conditions\nsum_stats_conditions <- d |>\n    group_by(condition) |>\n    dplyr::summarise(\n        mean_C = mean(rt),\n        sd_C = sd(rt))\n```\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-16_f9210e59ac04f4d1918b451a5f1e2070'}\n\n```{.r .cell-code}\nsum_stats_participants <-\n    full_join(\n        sum_stats_participants,\n        sum_stats_conditions,\n        by = \"condition\") |>\n    mutate(outlier_P = (mean_P - mean_C) > 2 * sd_C)\n```\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-18_b30e3fb2228e2dea88a23bb90d4159a0'}\n\n```{.r .cell-code}\n# show outlier participants\nsum_stats_participants |>\n    filter(outlier_P == 1) |>\n    show()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 6\n# Groups:   subject [0]\n# … with 6 variables: subject <fct>, condition <fct>, mean_P <dbl>,\n#   mean_C <dbl>, sd_C <dbl>, outlier_P <lgl>\n```\n:::\n:::\n\n\nEs gibt keine Versuchsperson, deren mittlere Reaktionszeit in einer Bedingung mehr als zwei Standardabweichungen **über** dem Bedingungsmittelwert liegt. Dies bedeutet, dass sich in `excluded` keine Personen befinden, und der Dataframe folglich $0$ Zeilen hat.\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-20_62abc7faece012672a5ef06351aa90fe'}\n\n```{.r .cell-code}\nexcluded <- sum_stats_participants |>\n    filter(outlier_P == 1)\n\nexcluded\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 6\n# Groups:   subject [0]\n# … with 6 variables: subject <fct>, condition <fct>, mean_P <dbl>,\n#   mean_C <dbl>, sd_C <dbl>, outlier_P <lgl>\n```\n:::\n:::\n\n\nDer nächste Schritt wäre also nicht unbedingt notwendig.\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-22_c2157e7ebbff97867fa930206d47bf69'}\n\n```{.r .cell-code}\nd_cleaned <- d |>\n    filter(!(subject %in% excluded$subject)) |>\n    mutate(subject = fct_drop(subject))\n```\n:::\n\n\n:::exercise\n**Aufgabe 3**\n\na) Gibt es einzelne Trials, in denen Versuchpersonen länger als 4 Standardabweichungen über dem  Bedingungsmittelwert gebraucht haben, um zu Antworten?\n\nb) Gibt es einzelne Trials, in denen Versuchpersonen zu schnell (unter 100 ms) geantwortet haben?\n\nc) Speichern Sie den bearbeiteten Datensatz als _CSV_ File.\n:::\n\n__Zu Aufgabe 3.a)__\n\nWir wollen Trials identifizieren, bei denen Vpn länger gebraucht haben, als 4 Standardabweichungen über dem  Bedingungsmittelwert. Das bedeutet `(rt - mean_C) > 4 * sd_C`, und nicht `abs(rt - mean_C) > 4 * sd_C`. Letzteres würde auch Trials als Ausreisser identifizieren, welche 4 Standardabweichungen unter dem  Bedingungsmittelwert liegen.\n\n__Zu Aufgabe 3.b)__\n\nDie Reaktionszeiten sind hier in Sekunden, nicht Millisekunden. Dies bedeutet, wir brauchen `rt < 0.100`, und nicht `rt < 100`.\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-24_0b0275ec9119a6a634d77c401fc64f8c'}\n\n```{.r .cell-code}\nd_cleaned <- d_cleaned |>\n    full_join(\n        sum_stats_conditions,\n        by = \"condition\") |>\n    mutate(\n        trial_type = case_when(\n            (rt - mean_C) > 4 * sd_C ~ \"too slow\",\n            rt < 0.100 ~ \"too fast\",\n            TRUE ~ \"OK\") |>\n            factor(levels = c(\"OK\", \"too fast\", \"too slow\")))\n```\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-26_f062ed22784878a002715227fd6e7aa4'}\n\n```{.r .cell-code}\nd_cleaned |>\n    ggplot(aes(x = trial_num, y = rt, color = trial_type, shape = trial_type)) +\n    geom_point(alpha = 0.6) +\n    facet_grid(~condition) +\n    scale_color_manual(values = c(\"gray70\", \"red\", \"steelblue\"))\n```\n\n::: {.cell-output-display}\n![](solution_03_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-28_c39bae70685bd97877a9bd759748f298'}\n\n```{.r .cell-code}\nd_cleaned |>\n    filter(trial_type != \"OK\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 165 × 9\n   subject condition signal_present correct     rt trial_…¹ mean_C  sd_C trial…²\n   <fct>   <fct>              <dbl>   <dbl>  <dbl>    <dbl>  <dbl> <dbl> <fct>  \n 1 2       bias                   0       1 4.08          1  0.697 0.751 too sl…\n 2 2       bias                   1       1 0.035        41  0.697 0.751 too fa…\n 3 2       bias                   0       1 6.92         50  0.697 0.751 too sl…\n 4 2       bias                   0       1 0.085        51  0.697 0.751 too fa…\n 5 2       bias                   0       1 0.033        70  0.697 0.751 too fa…\n 6 2       bias                   0       1 5.09         74  0.697 0.751 too sl…\n 7 2       bias                   0       1 6.59         94  0.697 0.751 too sl…\n 8 2       bias                   0       1 5.09        121  0.697 0.751 too sl…\n 9 2       bias                   1       1 0.077       138  0.697 0.751 too fa…\n10 3       no_bias                1       0 0.0958        4  0.691 0.773 too fa…\n# … with 155 more rows, and abbreviated variable names ¹​trial_num, ²​trial_type\n```\n:::\n:::\n\nVor dem Entfernen der Ausreisser Trials haben wir 5756 Datenpunkte.\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-30_d7870af31fc59194ce11524dd8a565a0'}\n\n```{.r .cell-code}\nnrow(d_cleaned)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5756\n```\n:::\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-32_9c272ba8888c1375da0170fba8418d25'}\n\n```{.r .cell-code}\nd_cleaned <- d_cleaned |>\n    filter(trial_type == \"OK\") |>\n    select(subject, trial_num, condition, signal_present, correct, rt)\n```\n:::\n\n\nNach dem Entfernen haben wir noch 5591.\n\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-34_8e62f715796553764aeacfb1bb991973'}\n\n```{.r .cell-code}\nnrow(d_cleaned)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5591\n```\n:::\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-36_4ce2e53602daf5d590f243cbf95378e0'}\n\n```{.r .cell-code}\nd_cleaned |>\n    ggplot(aes(x = trial_num, y = rt)) +\n    geom_point(alpha = 0.6) +\n    facet_grid(~condition) +\n    scale_color_manual(values = c(\"gray70\", \"red\", \"steelblue\"))\n```\n\n::: {.cell-output-display}\n![](solution_03_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='solution_03_cache/html/unnamed-chunk-38_e972defa220dd7fd5c7648983891fb26'}\n\n```{.r .cell-code}\nd_cleaned |> write_csv(\"data/data-cleaned.csv\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}